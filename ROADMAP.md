# AI Game Engine — 开发路线图

## Phase 1: 核心验证 ✅
> 证明"自然语言 → 可运行游戏"这条路走得通

- [x] 选定引擎基座 (Godot 4)
- [x] 选定 AI 后端 (Claude Code CLI)
- [x] CLI 工具: 一句话生成完整 Godot 项目
- [x] 手动验证: 2D 平台跳跃游戏可玩

## Phase 2: 编辑器集成 ✅
> 把 AI 能力嵌入 Godot 编辑器，实现对话式迭代开发

- [x] 编辑器插件框架 (EditorPlugin + Dock)
- [x] 验证插件在 Godot 4.6 中正常加载
- [x] 对话式创建: 从零生成游戏
- [x] 对话式修改: 增量修改现有项目
- [x] 上下文感知: 读取当前项目文件作为修改依据
- [x] 多轮对话: 保持对话历史，理解上下文
- [x] 错误处理: 生成失败时的回退和重试机制

## Phase 3: 生成质量提升 🚧
> 提高 AI 生成游戏的质量和一次成功率

- [x] 支持更多游戏类型模板 (平台跳跃、贪吃蛇、打砖块、射击)
- [x] 生成后自动校验 (场景引用检查、脚本语法检查)
- [x] 未使用变量/函数静态检测
- [x] Godot 日志 ERROR + WARNING 级别捕获
- [x] JSON 解析失败自动重试机制
- [x] Prompt 优化: 分类型使用专门的 prompt (BASE_PROMPT + GAME_RULES_*)
- [x] 游戏类型自动检测 + UI 下拉选择器
- [ ] 自动运行测试 (headless 模式运行、截图对比)
- [ ] 支持中文和英文混合输入

## Phase 4: 多模态输入
> 不只是文字，草图、图片、语音都能变成游戏

- [ ] 草图输入: 上传手绘关卡图 → AI 解读为游戏布局
- [ ] 参考图输入: 上传截图 → AI 生成类似风格的游戏
- [ ] 语音输入: 语音描述 → 语音转文本 → 生成游戏
- [ ] 美术资产生成: AI 生成贴图/精灵图替代 ColorRect

## Phase 5: GDExtension 运行时 AI
> 游戏运行时的 AI 能力，真正的 AI 原生体验

- [ ] 智能 NPC: LLM 驱动的 NPC 对话和行为
- [ ] 动态关卡: 运行时程序化生成关卡
- [ ] 自适应难度: 根据玩家表现动态调整
- [ ] AI 叙事: 涌现式故事生成

## Phase 6: 产品化
> 从工具变成产品

- [ ] 独立 UI 壳: 用户不需要看到 Godot 编辑器
- [ ] 一键导出: 生成可发布的游戏包
- [ ] 模板市场: 社区共享游戏模板
- [ ] 多人协作: 多个用户同时用 AI 编辑同一个项目
